<mxfile host="Electron" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/27.0.9 Chrome/134.0.6998.205 Electron/35.4.0 Safari/537.36" version="27.0.9" pages="29">
  <diagram name="Template" id="sX7S3tRy4Z8Bx3EShi8z">
    <mxGraphModel dx="2305" dy="1134" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="XPHsndZZJCqnBg0c9eK1-1" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Functional Requirements&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="40" y="30" width="400" height="170" as="geometry" />
        </mxCell>
        <mxCell id="XPHsndZZJCqnBg0c9eK1-2" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Non-Functional Requirements&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="430" y="30" width="400" height="200" as="geometry" />
        </mxCell>
        <mxCell id="XPHsndZZJCqnBg0c9eK1-3" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Back of the Envelope Estimations&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="880" y="30" width="400" height="200" as="geometry" />
        </mxCell>
        <mxCell id="XPHsndZZJCqnBg0c9eK1-4" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Notes&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1330" y="30" width="400" height="200" as="geometry" />
        </mxCell>
        <mxCell id="27VbrXChBbFN_Ox-OqeP-1" value="&lt;h2 style=&quot;box-sizing: border-box; margin-bottom: 16px; line-height: 1.25; padding-bottom: 0.3em; border-bottom: 1px solid rgba(209, 217, 224, 0.7); color: rgb(31, 35, 40); font-family: -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Segoe UI&amp;quot;, &amp;quot;Noto Sans&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;; background-color: rgb(255, 255, 255); margin-top: 0px !important;&quot; dir=&quot;auto&quot; class=&quot;heading-element&quot;&gt;Easy to remember numbers for back-of-the-envelope calculations in system design interviews&lt;/h2&gt;&lt;div style=&quot;box-sizing: border-box; position: relative; color: rgb(31, 35, 40); font-family: -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Segoe UI&amp;quot;, &amp;quot;Noto Sans&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;; font-size: 16px; background-color: rgb(255, 255, 255); margin-top: 0px !important;&quot; dir=&quot;auto&quot; class=&quot;markdown-heading&quot;&gt;&lt;h2 style=&quot;box-sizing: border-box; margin-bottom: 16px; line-height: 1.25; padding-bottom: 0.3em; border-bottom: 1px solid rgba(209, 217, 224, 0.7); margin-top: 0px !important;&quot; dir=&quot;auto&quot; class=&quot;heading-element&quot;&gt;&lt;span style=&quot;font-size: 1.25em; font-weight: normal;&quot;&gt;Powers of two table&lt;/span&gt;&lt;/h2&gt;&lt;/div&gt;&lt;div style=&quot;box-sizing: border-box; position: relative; color: rgb(31, 35, 40); font-family: -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Segoe UI&amp;quot;, &amp;quot;Noto Sans&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;; font-size: 16px; background-color: rgb(255, 255, 255);&quot; dir=&quot;auto&quot; class=&quot;markdown-heading&quot;&gt;&lt;a style=&quot;box-sizing: border-box; background-color: transparent; color: rgb(9, 105, 218); float: left; padding-right: 4px; margin: auto; line-height: 1; position: absolute; top: 12.5px; left: -28px; display: flex; width: 28px; height: 28px; border-radius: 6px; opacity: 0; justify-content: center; align-items: center; transform: translateY(-50%); text-underline-offset: 0.2rem;&quot; href=&quot;https://gist.github.com/mwakaba2/8ad25dda8c71fe529855994c70743733#powers-of-two-table&quot; aria-label=&quot;Permalink: Powers of two table&quot; class=&quot;anchor&quot; id=&quot;user-content-powers-of-two-table&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; width=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; class=&quot;octicon octicon-link&quot;&gt;&lt;path d=&quot;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/div&gt;&lt;pre style=&quot;box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, &amp;quot;SF Mono&amp;quot;, Menlo, Consolas, &amp;quot;Liberation Mono&amp;quot;, monospace; font-size: 13.6px; margin-top: 0px; margin-bottom: 16px; overflow-wrap: normal; padding: 16px; overflow: auto; line-height: 1.45; color: rgb(31, 35, 40); background-color: rgb(246, 248, 250); border-radius: 6px;&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, &amp;quot;SF Mono&amp;quot;, Menlo, Consolas, &amp;quot;Liberation Mono&amp;quot;, monospace; font-size: 13.6px; padding: 0px; margin: 0px; background: transparent; border-radius: 6px; word-break: normal; border: 0px; display: inline; overflow: visible; line-height: inherit; overflow-wrap: normal;&quot;&gt;Power    Approx Value (Bytes)       Bytes&lt;br&gt;-----------------------------------------&lt;br&gt;10                 1 thousand        1 KB&lt;br&gt;16                65 thousand       64 KB&lt;br&gt;20                  1 million        1 MB&lt;br&gt;30                  1 billion        1 GB&lt;br&gt;32                  4 billion        4 GB&lt;br&gt;40                 1 trillion        1 TB&lt;br&gt;50              1 quadrillion        1 PB&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; position: relative; color: rgb(31, 35, 40); font-family: -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Segoe UI&amp;quot;, &amp;quot;Noto Sans&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;; font-size: 16px; background-color: rgb(255, 255, 255);&quot; dir=&quot;auto&quot; class=&quot;markdown-heading&quot;&gt;&lt;h3 style=&quot;box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 1.25em; line-height: 1.25;&quot; dir=&quot;auto&quot; class=&quot;heading-element&quot;&gt;Bytes to store different data types in SQL&lt;/h3&gt;&lt;a style=&quot;box-sizing: border-box; background-color: transparent; color: rgb(9, 105, 218); float: left; padding-right: 4px; margin: auto; line-height: 1; position: absolute; top: 12.5px; left: -28px; display: flex; width: 28px; height: 28px; border-radius: 6px; opacity: 0; justify-content: center; align-items: center; transform: translateY(-50%); text-underline-offset: 0.2rem;&quot; href=&quot;https://gist.github.com/mwakaba2/8ad25dda8c71fe529855994c70743733#bytes-to-store-different-data-types-in-sql&quot; aria-label=&quot;Permalink: Bytes to store different data types in SQL&quot; class=&quot;anchor&quot; id=&quot;user-content-bytes-to-store-different-data-types-in-sql&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; width=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; class=&quot;octicon octicon-link&quot;&gt;&lt;path d=&quot;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/div&gt;&lt;pre style=&quot;box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, &amp;quot;SF Mono&amp;quot;, Menlo, Consolas, &amp;quot;Liberation Mono&amp;quot;, monospace; font-size: 13.6px; margin-top: 0px; margin-bottom: 16px; overflow-wrap: normal; padding: 16px; overflow: auto; line-height: 1.45; color: rgb(31, 35, 40); background-color: rgb(246, 248, 250); border-radius: 6px;&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, &amp;quot;SF Mono&amp;quot;, Menlo, Consolas, &amp;quot;Liberation Mono&amp;quot;, monospace; font-size: 13.6px; padding: 0px; margin: 0px; background: transparent; border-radius: 6px; word-break: normal; border: 0px; display: inline; overflow: visible; line-height: inherit; overflow-wrap: normal;&quot;&gt;Data type              Bytes&lt;br&gt;-----------------------------&lt;br&gt;ASCII character             1&lt;br&gt;UNICODE character           2&lt;br&gt;&lt;br&gt;Bytes calculation for string of length x&lt;br&gt;-----------------------------------------&lt;br&gt;(x*(bytes to store the char)*(8 bits)) / 8 bits&lt;br&gt;&lt;br&gt;&lt;br&gt;https://dev.mysql.com/doc/refman/8.0/en/storage-requirements.html&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; position: relative; color: rgb(31, 35, 40); font-family: -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Segoe UI&amp;quot;, &amp;quot;Noto Sans&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;; font-size: 16px; background-color: rgb(255, 255, 255);&quot; dir=&quot;auto&quot; class=&quot;markdown-heading&quot;&gt;&lt;h3 style=&quot;box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 1.25em; line-height: 1.25;&quot; dir=&quot;auto&quot; class=&quot;heading-element&quot;&gt;Latency numbers every programmer should know in seconds&lt;/h3&gt;&lt;a style=&quot;box-sizing: border-box; background-color: transparent; color: rgb(9, 105, 218); float: left; padding-right: 4px; margin: auto; line-height: 1; position: absolute; top: 12.5px; left: -28px; display: flex; width: 28px; height: 28px; border-radius: 6px; opacity: 0; justify-content: center; align-items: center; transform: translateY(-50%); text-underline-offset: 0.2rem;&quot; href=&quot;https://gist.github.com/mwakaba2/8ad25dda8c71fe529855994c70743733#latency-numbers-every-programmer-should-know-in-seconds&quot; aria-label=&quot;Permalink: Latency numbers every programmer should know in seconds&quot; class=&quot;anchor&quot; id=&quot;user-content-latency-numbers-every-programmer-should-know-in-seconds&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; width=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; class=&quot;octicon octicon-link&quot;&gt;&lt;path d=&quot;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/div&gt;&lt;p style=&quot;box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: rgb(31, 35, 40); font-family: -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Segoe UI&amp;quot;, &amp;quot;Noto Sans&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;; font-size: 16px; background-color: rgb(255, 255, 255);&quot; dir=&quot;auto&quot;&gt;In a system design discussion, we normally discuss numbers in seconds or using relative comparisons. I doubt we are expected to know the exact numbers so, I created a cheat sheet that would be easy to remember and includes references to newer technology.&lt;/p&gt;&lt;pre style=&quot;box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, &amp;quot;SF Mono&amp;quot;, Menlo, Consolas, &amp;quot;Liberation Mono&amp;quot;, monospace; font-size: 13.6px; margin-top: 0px; margin-bottom: 16px; overflow-wrap: normal; padding: 16px; overflow: auto; line-height: 1.45; color: rgb(31, 35, 40); background-color: rgb(246, 248, 250); border-radius: 6px;&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, &amp;quot;SF Mono&amp;quot;, Menlo, Consolas, &amp;quot;Liberation Mono&amp;quot;, monospace; font-size: 13.6px; padding: 0px; margin: 0px; background: transparent; border-radius: 6px; word-break: normal; border: 0px; display: inline; overflow: visible; line-height: inherit; overflow-wrap: normal;&quot;&gt;Latency Comparison Numbers&lt;br&gt;--------------------------&lt;br&gt;L1 cache can be accessed 14x faster than L2 cache.&lt;br&gt;Main memory access is 20x slower than L2, 200x slower than L1.&lt;br&gt;&lt;br&gt;Zippy Compression at 250 MB/sec.&lt;br&gt;Send data over 1 Gbps network at 100 MB/sec.&lt;br&gt;Read sequentially from 1 Gbps Ethernet at 100 MB/sec.&lt;br&gt;Read randomly/sequentially from SSD at ~ 1 GB/sec.&lt;br&gt;Read sequentially from main memory at 4 GB/sec.&lt;br&gt;Read sequentially from disk at 30 MB/sec.&lt;br&gt;Disk seeks at 100 seeks/sec.&lt;br&gt;Round-trips within a data center at 2,000 trips/sec.&lt;br&gt;World-wide round trips at 6-7 trips/sec.&lt;br&gt;&lt;br&gt;1MB sequential read from memory --&amp;gt; 250 micro seconds&lt;br&gt;1MB sequential read from ssd    --&amp;gt; 4x of memory&lt;br&gt;1MB sequential read from disk   --&amp;gt; 80x of memory&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;div style=&quot;box-sizing: border-box; position: relative; color: rgb(31, 35, 40); font-family: -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Segoe UI&amp;quot;, &amp;quot;Noto Sans&amp;quot;, Helvetica, Arial, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;; font-size: 16px; background-color: rgb(255, 255, 255);&quot; dir=&quot;auto&quot; class=&quot;markdown-heading&quot;&gt;&lt;h3 style=&quot;box-sizing: border-box; margin-top: 24px; margin-bottom: 16px; font-size: 1.25em; line-height: 1.25;&quot; dir=&quot;auto&quot; class=&quot;heading-element&quot;&gt;Handy numbers for requests calculations.&lt;/h3&gt;&lt;a style=&quot;box-sizing: border-box; background-color: transparent; color: rgb(9, 105, 218); float: left; padding-right: 4px; margin: auto; line-height: 1; position: absolute; top: 12.5px; left: -28px; display: flex; width: 28px; height: 28px; border-radius: 6px; opacity: 0; justify-content: center; align-items: center; transform: translateY(-50%); text-underline-offset: 0.2rem;&quot; href=&quot;https://gist.github.com/mwakaba2/8ad25dda8c71fe529855994c70743733#handy-numbers-for-requests-calculations&quot; aria-label=&quot;Permalink: Handy numbers for requests calculations.&quot; class=&quot;anchor&quot; id=&quot;user-content-handy-numbers-for-requests-calculations&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; width=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; class=&quot;octicon octicon-link&quot;&gt;&lt;path d=&quot;m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;/div&gt;&lt;pre style=&quot;box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, &amp;quot;SF Mono&amp;quot;, Menlo, Consolas, &amp;quot;Liberation Mono&amp;quot;, monospace; font-size: 13.6px; margin-top: 0px; margin-bottom: 16px; overflow-wrap: normal; padding: 16px; overflow: auto; line-height: 1.45; color: rgb(31, 35, 40); background-color: rgb(246, 248, 250); border-radius: 6px;&quot;&gt;&lt;code style=&quot;box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, &amp;quot;SF Mono&amp;quot;, Menlo, Consolas, &amp;quot;Liberation Mono&amp;quot;, monospace; font-size: 13.6px; padding: 0px; margin: 0px; background: transparent; border-radius: 6px; word-break: normal; border: 0px; display: inline; overflow: visible; line-height: inherit; overflow-wrap: normal;&quot;&gt;Numbers for requests calculations&lt;br&gt;---------------------------------&lt;br&gt;2.5 million seconds per month&lt;br&gt;&lt;br&gt;1 million reqs/month   --&amp;gt;  .4 reqs/sec&lt;br&gt;2.6 million reqs/month --&amp;gt;   1 reqs/sec&lt;br&gt;5 million reqs/month   --&amp;gt;   2 reqs/sec&lt;br&gt;10 million reqs/month  --&amp;gt;   4 reqs/sec&lt;br&gt;100 million reqs/month --&amp;gt;  40 reqs/sec&lt;br&gt;1 billion reqs/month   --&amp;gt; 400 reqs/sec&lt;/code&gt;&lt;/pre&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="70" y="200" width="1170" height="1450" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="IMSYoiz-ZVZS9IROqF-L" name="Docusign">
    <mxGraphModel dx="3386" dy="1723" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="TuEia0F1BFCH1UdOG985-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-3" target="TuEia0F1BFCH1UdOG985-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-3" target="TuEia0F1BFCH1UdOG985-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-3" value="App" style="whiteSpace=wrap;html=1;aspect=fixed;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="740" y="234.86" width="195" height="195" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-5" target="TuEia0F1BFCH1UdOG985-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-5" value="Client" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="130" y="289.86" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-7" target="TuEia0F1BFCH1UdOG985-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-7" value="www" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="340" y="289.86" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-9" target="TuEia0F1BFCH1UdOG985-16">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="560" y="59.8599999999999" as="targetPoint" />
            <Array as="points">
              <mxPoint x="560" y="169.86" />
              <mxPoint x="1198" y="169.86" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-9" value="Account Server" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="520" y="289.86" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-12" target="TuEia0F1BFCH1UdOG985-13">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="600" y="409.86" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-12" target="TuEia0F1BFCH1UdOG985-15">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="700" y="409.86" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-12" value="Micro front Ends" style="whiteSpace=wrap;html=1;aspect=fixed;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="339.86" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-13" value="Azure Monitor" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="560" y="559.86" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.01;entryY=0.471;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-9" target="TuEia0F1BFCH1UdOG985-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-15" value="Mixpanel" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="660" y="559.86" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-16" value="API Server" style="whiteSpace=wrap;html=1;aspect=fixed;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1100" y="234.86" width="195" height="195" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-19" target="TuEia0F1BFCH1UdOG985-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1120" y="549.86" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-19" target="TuEia0F1BFCH1UdOG985-21">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1220" y="559.86" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-19" value="Micro Services" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1110" y="339.86" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-20" value="Account" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1060" y="559.86" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-21" value="User" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1170" y="559.86" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-22" value="DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1480" y="272.36" width="90" height="120" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-16" target="TuEia0F1BFCH1UdOG985-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-28" target="TuEia0F1BFCH1UdOG985-30">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1110" y="789.86" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-30" target="TuEia0F1BFCH1UdOG985-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-30" target="TuEia0F1BFCH1UdOG985-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-30" target="TuEia0F1BFCH1UdOG985-34">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="960" y="909.86" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-28" value="Ecommerce" style="whiteSpace=wrap;html=1;aspect=fixed;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="787.5" y="709.86" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="TuEia0F1BFCH1UdOG985-30" target="TuEia0F1BFCH1UdOG985-31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-30" value="Ecommerce Backend" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1147.5" y="709.86" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-31" value="Ecommerce DB" style="whiteSpace=wrap;html=1;aspect=fixed;shape=cylinder3;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1470" y="704.86" width="110" height="110" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-32" value="Zuora" style="whiteSpace=wrap;html=1;aspect=fixed;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1030" y="889.86" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-33" value="Oracle ERP" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1157.5" y="889.86" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="TuEia0F1BFCH1UdOG985-34" value="Payment Gateways" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1272.5" y="889.86" width="80" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="r2c0LPfcFOJ88nt7mPGc" name="DocuSign-Legacy">
    <mxGraphModel dx="2305" dy="1131" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="lonspI5yZ2bNaHoGWHws-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lonspI5yZ2bNaHoGWHws-5" target="lonspI5yZ2bNaHoGWHws-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="lonspI5yZ2bNaHoGWHws-5" target="lonspI5yZ2bNaHoGWHws-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="lonspI5yZ2bNaHoGWHws-5" target="lonspI5yZ2bNaHoGWHws-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="lonspI5yZ2bNaHoGWHws-5" target="lonspI5yZ2bNaHoGWHws-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-5" value="App" style="whiteSpace=wrap;html=1;aspect=fixed;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="590" y="195" width="195" height="195" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lonspI5yZ2bNaHoGWHws-7" target="lonspI5yZ2bNaHoGWHws-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-7" value="Client" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="253.75" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lonspI5yZ2bNaHoGWHws-9" target="lonspI5yZ2bNaHoGWHws-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="210" y="292.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-9" value="Gateway + Load Balancer" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="350" y="253.75" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-10" value="Core" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1220" y="170" width="570" height="320" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-11" value="Monolithic apps" style="whiteSpace=wrap;html=1;aspect=fixed;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="1">
          <mxGeometry x="600" y="300" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-12" value="Mixpanel" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="705" y="510" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.034;exitY=1.001;exitDx=0;exitDy=0;entryX=0.602;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitPerimeter=0;" edge="1" parent="1" source="lonspI5yZ2bNaHoGWHws-10" target="lonspI5yZ2bNaHoGWHws-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lonspI5yZ2bNaHoGWHws-15" target="lonspI5yZ2bNaHoGWHws-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-15" value="API Server" style="whiteSpace=wrap;html=1;aspect=fixed;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1260" y="195" width="195" height="195" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-16" value="Monolithic API&#39;s" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1270" y="300" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-17" value="Relational DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1660" y="180" width="90" height="120" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="lonspI5yZ2bNaHoGWHws-15" target="lonspI5yZ2bNaHoGWHws-17">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1695" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-19" value="Zuora" style="whiteSpace=wrap;html=1;aspect=fixed;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="1550" y="600" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-20" value="No SQL DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1660" y="340" width="90" height="120" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="lonspI5yZ2bNaHoGWHws-15" target="lonspI5yZ2bNaHoGWHws-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lonspI5yZ2bNaHoGWHws-23" target="lonspI5yZ2bNaHoGWHws-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-23" value="Quartz Batch Jobs" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1710" y="540" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="lonspI5yZ2bNaHoGWHws-25" target="lonspI5yZ2bNaHoGWHws-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-25" value="Load Balancer" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="960" y="253.75" width="77.5" height="77.5" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-26" value="Azure Monitor &amp;amp; Analytics" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="950" y="790" width="480" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-27" value="Akamai (CDN)" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="530" y="520" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="lonspI5yZ2bNaHoGWHws-29" target="lonspI5yZ2bNaHoGWHws-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-29" value="Grafana" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;" vertex="1" parent="1">
          <mxGeometry x="1530" y="770" width="80" height="100" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-30" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Problem Statement&lt;/h1&gt;&lt;p&gt;* SSOT (Single source of truth)&lt;/p&gt;&lt;p&gt;* Bottlenecks during peak hours, invoicing delays, payment reconciliation errors&lt;/p&gt;&lt;p&gt;* Latency issues&lt;/p&gt;&lt;p&gt;* Hidden Vulnerability (Paypal abuse)&lt;/p&gt;&lt;p&gt;* Need for Realtime payment processing&lt;/p&gt;&lt;p&gt;* Convoluted API&#39;s (voilating single responsibility principle)&lt;/p&gt;&lt;p&gt;* Legacy Zuora API Integration&lt;/p&gt;&lt;p&gt;* Overloaded Batch Jobs with limited capabilities&lt;/p&gt;&lt;p&gt;* Alerts were very basic&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1850" y="360" width="370" height="470" as="geometry" />
        </mxCell>
        <mxCell id="lonspI5yZ2bNaHoGWHws-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.892;entryY=1.001;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="lonspI5yZ2bNaHoGWHws-23" target="lonspI5yZ2bNaHoGWHws-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="TK03BzCCXb5E88C19SlF" name="Docusign-New">
    <mxGraphModel dx="3386" dy="1723" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-5" target="F9d1KAiT2OdDwuA7FVRH-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-5" target="F9d1KAiT2OdDwuA7FVRH-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-5" target="F9d1KAiT2OdDwuA7FVRH-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-5" target="F9d1KAiT2OdDwuA7FVRH-25">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-5" value="App" style="whiteSpace=wrap;html=1;aspect=fixed;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="850" y="265" width="195" height="195" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-7" target="F9d1KAiT2OdDwuA7FVRH-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-7" value="Client" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="360" y="321.25" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-9" target="F9d1KAiT2OdDwuA7FVRH-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="470" y="362.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-9" value="Istio (Gateway + Load Balancer)" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="600" y="321.25" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-11" target="F9d1KAiT2OdDwuA7FVRH-33">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1622.75" y="170" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-11" value="Core (Azure)" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1480" y="240" width="570" height="320" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-12" value="Micro front ends" style="whiteSpace=wrap;html=1;aspect=fixed;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" vertex="1" parent="1">
          <mxGeometry x="860" y="370" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-13" value="Mixpanel" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="965" y="580" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.034;exitY=1.001;exitDx=0;exitDy=0;entryX=0.602;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitPerimeter=0;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-11" target="F9d1KAiT2OdDwuA7FVRH-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-15" value="API Server" style="whiteSpace=wrap;html=1;aspect=fixed;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1520" y="265" width="195" height="195" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-16" value="Micro Services" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1530" y="370" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-17" value="Relational DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1920" y="260" width="90" height="120" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-15" target="F9d1KAiT2OdDwuA7FVRH-17">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1955" y="510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-19" value="Zuora" style="whiteSpace=wrap;html=1;aspect=fixed;align=center;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="2030" y="630" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-20" value="No SQL DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1920" y="410" width="90" height="120" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-15" target="F9d1KAiT2OdDwuA7FVRH-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-23" target="F9d1KAiT2OdDwuA7FVRH-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-23" value="Istio (Gateway + Load Balancer)" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1220" y="323.75" width="77.5" height="77.5" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-24" value="Azure Monitor &amp;amp; Analytics" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1210" y="860" width="480" height="60" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-25" value="Akamai (CDN)" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="790" y="590" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-26" value="Mulesoft" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1750" y="630" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-27" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-26" target="F9d1KAiT2OdDwuA7FVRH-19">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1650" y="690" as="sourcePoint" />
            <mxPoint x="1700" y="640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-28" value="&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); font-size: 12px; text-align: left; text-wrap-mode: wrap; background-color: transparent;&quot;&gt;Webhooks&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); font-size: 12px; text-align: left; text-wrap-mode: wrap; background-color: transparent;&quot;&gt;(Event-Driven)&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="F9d1KAiT2OdDwuA7FVRH-27">
          <mxGeometry x="0.1429" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-29" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-26" target="F9d1KAiT2OdDwuA7FVRH-15">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1580" y="710" as="sourcePoint" />
            <mxPoint x="1630" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-30" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Real-time Zuora-Core Integration with Mulesoft (Integration Platform)&lt;/h1&gt;&lt;p&gt;&lt;font face=&quot;Helvetica&quot; style=&quot;font-size: 12px;&quot;&gt;1.&amp;nbsp;&lt;span style=&quot;background-color: transparent; white-space-collapse: preserve; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Decoupling and Reduced Dependencies (Contract Abstraction)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font style=&quot;font-size: 12px;&quot; face=&quot;Helvetica&quot;&gt;&lt;span style=&quot;background-color: transparent; white-space-collapse: preserve; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;2. &lt;/span&gt;&lt;span style=&quot;background-color: transparent; white-space-collapse: preserve; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Transformation and Data Orchestration (via DataWeave)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font style=&quot;font-size: 12px;&quot; face=&quot;Helvetica&quot;&gt;&lt;span style=&quot;white-space-collapse: preserve;&quot;&gt;3. &lt;/span&gt;&lt;span style=&quot;background-color: transparent; white-space-collapse: preserve; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Robust Error Handling and Reliability (OOTB exponential backoff and dead letter queues)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font style=&quot;font-size: 12px;&quot; face=&quot;Helvetica&quot;&gt;&lt;span style=&quot;background-color: transparent; white-space-collapse: preserve; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;4. &lt;/span&gt;&lt;span style=&quot;background-color: transparent; white-space-collapse: preserve; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Scalability and Performance Management (throttling and rate limiting, async queues in some usecases)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font style=&quot;font-size: 12px;&quot; face=&quot;Helvetica&quot;&gt;&lt;span style=&quot;background-color: transparent; white-space-collapse: preserve; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;5. &lt;/span&gt;&lt;span style=&quot;background-color: transparent; white-space-collapse: preserve; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Centralized Governance, Monitoring, and Security (AnyPoint Platform)&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font style=&quot;font-size: 12px;&quot; face=&quot;Helvetica&quot;&gt;&lt;span style=&quot;background-color: transparent; white-space-collapse: preserve; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2150" y="560" width="400" height="320" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.468;entryY=1.042;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-32" target="F9d1KAiT2OdDwuA7FVRH-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-32" value="Grafana" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;" vertex="1" parent="1">
          <mxGeometry x="1390" y="1010" width="90" height="100" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-33" value="Distributed Cache" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1580" y="100" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.75;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-36" target="F9d1KAiT2OdDwuA7FVRH-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="F9d1KAiT2OdDwuA7FVRH-36" target="F9d1KAiT2OdDwuA7FVRH-26">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1790" y="1020" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-36" value="PagerDuty" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="2020" y="1010" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-37" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Metrics&lt;/h1&gt;&lt;p&gt;Product&lt;/p&gt;&lt;p&gt;* Invoicing Time Reduction (Average time for invoice generation)&lt;/p&gt;&lt;p&gt;* Payment Reconciliation Accuracy (Percentage of payments automatically matched to invoices without manual intervention)&lt;/p&gt;&lt;p&gt;* Days Sales Outstanding (DSO) Reduction (Average number of days it takes to collect payment)&lt;/p&gt;&lt;p&gt;*&amp;nbsp;Manual Effort Reduction (Person hours)&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Engineering Excellence&lt;/p&gt;&lt;p&gt;*&amp;nbsp;Synchronization Error Rate (Percentage of discrepancies found between Zuora (SSOT) and Core System for synchronized attributes)&lt;/p&gt;&lt;p&gt;*&amp;nbsp;Data Staleness (Average time from a change in Zuora to Core)&lt;/p&gt;&lt;p&gt;*&amp;nbsp;Integration Flow Success Rate (Successful message processing)&lt;/p&gt;&lt;p&gt;* Uptime / Availability&lt;br&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1770" y="1210" width="180" height="830" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-38" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Problem Statement&lt;/h1&gt;&lt;p&gt;* SSOT (Single source of truth)&lt;/p&gt;&lt;p&gt;* Bottlenecks during peak hours, invoicing delays, payment reconciliation errors&lt;/p&gt;&lt;p&gt;* Latency issues&lt;/p&gt;&lt;p&gt;* Hidden Vulnerability (Paypal abuse)&lt;/p&gt;&lt;p&gt;* Need for Realtime payment processing&lt;/p&gt;&lt;p&gt;* Convoluted API&#39;s (voilating single responsibility principle)&lt;/p&gt;&lt;p&gt;* Legacy Zuora API Integration&lt;/p&gt;&lt;p&gt;* Overloaded Batch Jobs with limited capabilities&lt;/p&gt;&lt;p&gt;*&amp;nbsp;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="830" y="1210" width="180" height="470" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-39" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Solution&lt;/h1&gt;&lt;p&gt;* Zuora as SSOT for Billing, Invoice, Payment and Subscription&lt;/p&gt;&lt;p&gt;* Core is SSOT for Product objects&lt;/p&gt;&lt;p&gt;* MuleSoft received data from Zuora webhooks and performs data transformation. Calls Core API&#39;s to update&lt;/p&gt;&lt;p&gt;* Core provides microservices API&#39;s for MuleSoft. Ensures idempotency. Updates data in Core DB&#39;s&lt;/p&gt;&lt;p&gt;* Realtime payment processing&amp;nbsp;&lt;/p&gt;&lt;p&gt;* Introduction of Caching and DB Optimization&lt;/p&gt;&lt;p&gt;* Learning mode during migration from Batch job to Mulesoft integration&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1150" y="1180" width="180" height="550" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-40" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Impact&lt;/h1&gt;&lt;p&gt;Product&lt;/p&gt;&lt;p&gt;* Achieved realtime invoicing and payment collection (100% improvement compared to 7 days)&lt;/p&gt;&lt;p&gt;* 90% reduction in discrepancies during payment reconciliation process&lt;/p&gt;&lt;p&gt;* Reduced DSO from avg 5 days to a less than a day, i.e. 80% reduction&lt;/p&gt;&lt;p&gt;*&amp;nbsp;Achieved ~95% reduction in manual effort&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Engineering Excellence&lt;/p&gt;&lt;p&gt;*&amp;nbsp;&amp;lt;0.1% or near zero for critical attributes&lt;/p&gt;&lt;p&gt;* W.r.t Data Staleness achieved near real-time&amp;nbsp;&lt;/p&gt;&lt;p&gt;* Integration Flow success rate: &amp;gt;99.9%&lt;/p&gt;&lt;p&gt;* Uptime increased to &amp;gt;99.9%&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2080" y="1210" width="190" height="600" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-41" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Learnings&lt;/h1&gt;&lt;p&gt;*&amp;nbsp;Clear SSOT is important&lt;/p&gt;&lt;p&gt;*&amp;nbsp;Idempotency is Non-Negotiable for Core API&#39;s&lt;/p&gt;&lt;p&gt;* Thorough and early on testing&lt;/p&gt;&lt;p&gt;* Collaboration across teams and stakeholders&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2930" y="1200" width="180" height="560" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-42" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Challenges&lt;/h1&gt;&lt;p&gt;*&amp;nbsp;Legacy System API Limitations&lt;/p&gt;&lt;p&gt;* Complex Data Transformation&lt;/p&gt;&lt;p&gt;*&amp;nbsp;Ensuring Idempotency in Core (added unique constraints)&lt;/p&gt;&lt;p&gt;*&amp;nbsp;Testing Complexity (end to end testing across Zuora Sandbox, Mulesoft, Core Dev/QA)&lt;/p&gt;&lt;p&gt;* Goveranance /&amp;nbsp;Transitioning Business Processes&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;* Combined Engineering Adoption&lt;/p&gt;&lt;p&gt;* Addressing Us vs Them mentality&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1500" y="1210" width="180" height="430" as="geometry" />
        </mxCell>
        <mxCell id="F9d1KAiT2OdDwuA7FVRH-43" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Alerts&lt;/h1&gt;&lt;p&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Product&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;*&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;High Volume of DLQ Messages (&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;5 messages in 15 minutes&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;*&amp;nbsp;Sustained Integration Flow Errors (&amp;gt;1% error rate over 5 minutes)&lt;/p&gt;&lt;p&gt;*&amp;nbsp;Core System API Unavailability (non-2xx status codes)&lt;/p&gt;&lt;p&gt;*&amp;nbsp;Increased Flow Latency (alerts in case processing time increases by specified threshold)&lt;/p&gt;&lt;p&gt;* Worker CPU/Memory Utilization&lt;/p&gt;&lt;p&gt;*&amp;nbsp;Message Backlogs (number of pending message increases a specified threshold)&lt;/p&gt;&lt;p&gt;*&amp;nbsp;Unauthorized API Access Attempts&amp;nbsp;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2390" y="1210" width="465" height="310" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="wf-KizYnAGKLBIfAIfjt" name="RateLimiter">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="yut6KgCmZ2R_P063SqCX-1" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Rate Limiter&lt;/h1&gt;&lt;p&gt;Specified no of requests in specified period of time&lt;/p&gt;&lt;p&gt;Prevent DDos attacks&lt;/p&gt;&lt;p&gt;Reduce Cost as less servers are needed&lt;/p&gt;&lt;p&gt;Prevents load on the Server&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="130" y="70" width="290" height="160" as="geometry" />
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-2" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Requirements&lt;/h1&gt;&lt;p&gt;Server Side Rate Limiter since Client Side could be forged or bypassed&lt;/p&gt;&lt;p&gt;Throttle based on identifier such as UserId, IP Address&lt;/p&gt;&lt;p&gt;IP Address better since it helps narrow down user, however new userId can be created on the fly.&lt;/p&gt;&lt;p&gt;Inform the user when they are blocked&lt;/p&gt;&lt;p&gt;Http protocol with 429 status code to tell Too Many Requests&lt;/p&gt;&lt;p&gt;Instrumentation and Traffic Pattern analysis&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="130" y="240" width="320" height="260" as="geometry" />
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="yut6KgCmZ2R_P063SqCX-4">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="738" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-4" value="Client(s)" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="530" y="430" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="yut6KgCmZ2R_P063SqCX-21" target="yut6KgCmZ2R_P063SqCX-10">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1004" y="340" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="yut6KgCmZ2R_P063SqCX-21" target="yut6KgCmZ2R_P063SqCX-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1004" y="260" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-7" value="Success" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="yut6KgCmZ2R_P063SqCX-10" target="yut6KgCmZ2R_P063SqCX-12">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1154" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="yut6KgCmZ2R_P063SqCX-10" target="yut6KgCmZ2R_P063SqCX-4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1004" y="570" />
              <mxPoint x="570" y="570" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-9" value="Failure: Http 429 Status Code" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="yut6KgCmZ2R_P063SqCX-8">
          <mxGeometry x="0.3" y="2" relative="1" as="geometry">
            <mxPoint x="36" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-10" value="Rate Limiter (s&lt;span style=&quot;background-color: initial;&quot;&gt;)&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="954" y="420" width="100" height="100" as="geometry" />
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="yut6KgCmZ2R_P063SqCX-12">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1034" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-12" value="API Server(s&lt;span style=&quot;background-color: initial;&quot;&gt;)&lt;/span&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1164" y="430" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-13" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.16;exitY=0.7;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="yut6KgCmZ2R_P063SqCX-10" target="yut6KgCmZ2R_P063SqCX-27">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="600" y="420" as="sourcePoint" />
            <mxPoint x="830" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-14" value="Http 200" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" connectable="0" vertex="1" parent="yut6KgCmZ2R_P063SqCX-13">
          <mxGeometry x="-0.0223" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="yut6KgCmZ2R_P063SqCX-22" target="yut6KgCmZ2R_P063SqCX-18">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1184" y="620" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-16" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.688;exitY=0.85;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="yut6KgCmZ2R_P063SqCX-10" target="yut6KgCmZ2R_P063SqCX-22">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="924" y="710" as="sourcePoint" />
            <mxPoint x="1124" y="580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="yut6KgCmZ2R_P063SqCX-18" target="yut6KgCmZ2R_P063SqCX-19">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1444" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-18" value="Logging" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1274" y="580" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-19" value="Logging DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1450" y="580" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-20" value="Rules Engine" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="964" y="100" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-21" value="Rules Cache" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="944" y="270" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-22" value="Cache&amp;nbsp;&lt;div&gt;(High Throughput)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1054" y="590" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-23" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.61;exitY=0.09;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.583;entryY=0.967;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="yut6KgCmZ2R_P063SqCX-10" target="yut6KgCmZ2R_P063SqCX-21">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1034" y="410" as="sourcePoint" />
            <mxPoint x="1084" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-24" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Different algorithm Options&lt;/h1&gt;&lt;p&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Token Bucket System:&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Fixed Window System:&amp;nbsp;&lt;/p&gt;&lt;p&gt;Sliding Window:&amp;nbsp;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="130" y="520" width="320" height="220" as="geometry" />
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="yut6KgCmZ2R_P063SqCX-27" target="yut6KgCmZ2R_P063SqCX-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="yut6KgCmZ2R_P063SqCX-27" target="yut6KgCmZ2R_P063SqCX-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-27" value="Load Balancer" style="whiteSpace=wrap;html=1;aspect=fixed;shape=process;backgroundOutline=1;" vertex="1" parent="1">
          <mxGeometry x="740" y="430" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="yut6KgCmZ2R_P063SqCX-28" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;What to do when users get rate limited&lt;/h1&gt;&lt;p&gt;Discuss traffic patterns when integrating&lt;/p&gt;&lt;p&gt;Consider moving to higher plan&lt;/p&gt;&lt;p&gt;Handle scenario gracefully. Eg, retry&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="130" y="700" width="390" height="240" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="c_2sWL2zpSnBwjELj-oL" name="ParkingGarage">
    <mxGraphModel dx="2370" dy="1206" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ElQejplBdKBRBNl6pfe9-122" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Requirements&lt;/h1&gt;&lt;p&gt;Reserve a spot and receive ticket or receipt&lt;/p&gt;&lt;p&gt;Able to pay&lt;/p&gt;&lt;p&gt;High Consistency (no two people to reserve same spot)&lt;/p&gt;&lt;p&gt;3 Type of Spots (S, M, L)&lt;/p&gt;&lt;p&gt;Price Flat Rate based on Type of Spot&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="20" width="260" height="200" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-123" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Public API Endpoints&lt;/h1&gt;&lt;p&gt;/reserve (garageId, spotId, startTime, endTime)&lt;/p&gt;&lt;p&gt;returns:&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp;reservationId&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;/payment (reservationId)&amp;nbsp;&lt;/p&gt;&lt;p&gt;(External Integration with Stripe, Square etc)&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;/cancel&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;(reservationId)&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;/createAccount (email, password, firstName, lastName)&lt;/p&gt;&lt;p&gt;Note: Optional could also integrate with 3P SSO&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;/login (email, password)&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="290" y="20" width="290" height="400" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-124" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Internal API Endpoints&lt;/h1&gt;&lt;p&gt;/calculatePayment (reservationId)&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;/freeSpots (garageId, vehicleType, time)&lt;/p&gt;&lt;p&gt;Note: check what spots are available&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;/allocateSpot (&lt;span style=&quot;background-color: initial;&quot;&gt;garageId, vehicleType, time&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Note: Allocating spot&lt;/span&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="570" y="20" width="260" height="240" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-125" value="Reservation" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;strokeColor=default;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="40" y="420" width="230" height="310" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-126" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-125">
          <mxGeometry y="30" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-127" value="reservationId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-126">
          <mxGeometry width="114" height="40" as="geometry">
            <mxRectangle width="114" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-128" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-126">
          <mxGeometry x="114" width="116" height="40" as="geometry">
            <mxRectangle width="116" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-129" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-125">
          <mxGeometry y="70" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-130" value="userId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-129">
          <mxGeometry width="114" height="40" as="geometry">
            <mxRectangle width="114" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-131" value="foreignKey, int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-129">
          <mxGeometry x="114" width="116" height="40" as="geometry">
            <mxRectangle width="116" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-132" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-125">
          <mxGeometry y="110" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-133" value="garageId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-132">
          <mxGeometry width="114" height="40" as="geometry">
            <mxRectangle width="114" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-134" value="foreignKey, int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-132">
          <mxGeometry x="114" width="116" height="40" as="geometry">
            <mxRectangle width="116" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-135" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-125">
          <mxGeometry y="150" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-136" value="spotId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-135">
          <mxGeometry width="114" height="40" as="geometry">
            <mxRectangle width="114" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-137" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-135">
          <mxGeometry x="114" width="116" height="40" as="geometry">
            <mxRectangle width="116" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-138" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-125">
          <mxGeometry y="190" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-139" value="start" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-138">
          <mxGeometry width="114" height="40" as="geometry">
            <mxRectangle width="114" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-140" value="timestamp" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-138">
          <mxGeometry x="114" width="116" height="40" as="geometry">
            <mxRectangle width="116" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-141" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-125">
          <mxGeometry y="230" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-142" value="end" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-141">
          <mxGeometry width="114" height="40" as="geometry">
            <mxRectangle width="114" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-143" value="timestamp" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-141">
          <mxGeometry x="114" width="116" height="40" as="geometry">
            <mxRectangle width="116" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-144" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-125">
          <mxGeometry y="270" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-145" value="isPaid" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-144">
          <mxGeometry width="114" height="40" as="geometry">
            <mxRectangle width="114" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-146" value="bool" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;fontSize=16;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-144">
          <mxGeometry x="114" width="116" height="40" as="geometry">
            <mxRectangle width="116" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-147" value="Garage" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;" vertex="1" parent="1">
          <mxGeometry x="305" y="420" width="175" height="310" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-148" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-147">
          <mxGeometry y="30" width="175" height="46" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-149" value="garageId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-148">
          <mxGeometry width="88" height="46" as="geometry">
            <mxRectangle width="88" height="46" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-150" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-148">
          <mxGeometry x="88" width="87" height="46" as="geometry">
            <mxRectangle width="87" height="46" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-151" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-147">
          <mxGeometry y="76" width="175" height="48" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-152" value="address" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-151">
          <mxGeometry width="88" height="48" as="geometry">
            <mxRectangle width="88" height="48" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-153" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-151">
          <mxGeometry x="88" width="87" height="48" as="geometry">
            <mxRectangle width="87" height="48" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-154" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-147">
          <mxGeometry y="124" width="175" height="46" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-155" value="zipCode" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-154">
          <mxGeometry width="88" height="46" as="geometry">
            <mxRectangle width="88" height="46" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-156" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-154">
          <mxGeometry x="88" width="87" height="46" as="geometry">
            <mxRectangle width="87" height="46" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-157" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-147">
          <mxGeometry y="170" width="175" height="46" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-158" value="rateS" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-157">
          <mxGeometry width="88" height="46" as="geometry">
            <mxRectangle width="88" height="46" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-159" value="decimal" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-157">
          <mxGeometry x="88" width="87" height="46" as="geometry">
            <mxRectangle width="87" height="46" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-160" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-147">
          <mxGeometry y="216" width="175" height="48" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-161" value="rateM" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-160">
          <mxGeometry width="88" height="48" as="geometry">
            <mxRectangle width="88" height="48" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-162" value="decimal" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-160">
          <mxGeometry x="88" width="87" height="48" as="geometry">
            <mxRectangle width="87" height="48" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-163" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-147">
          <mxGeometry y="264" width="175" height="46" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-164" value="rateL" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-163">
          <mxGeometry width="88" height="46" as="geometry">
            <mxRectangle width="88" height="46" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-165" value="decimal" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-163">
          <mxGeometry x="88" width="87" height="46" as="geometry">
            <mxRectangle width="87" height="46" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-166" value="Spot" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;" vertex="1" parent="1">
          <mxGeometry x="305" y="760" width="175" height="220" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-167" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-166">
          <mxGeometry y="30" width="175" height="48" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-168" value="spotId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-167">
          <mxGeometry width="88" height="48" as="geometry">
            <mxRectangle width="88" height="48" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-169" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-167">
          <mxGeometry x="88" width="87" height="48" as="geometry">
            <mxRectangle width="87" height="48" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-170" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-166">
          <mxGeometry y="78" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-171" value="garageId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-170">
          <mxGeometry width="88" height="47" as="geometry">
            <mxRectangle width="88" height="47" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-172" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-170">
          <mxGeometry x="88" width="87" height="47" as="geometry">
            <mxRectangle width="87" height="47" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-173" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-166">
          <mxGeometry y="125" width="175" height="48" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-174" value="vehicleType" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-173">
          <mxGeometry width="88" height="48" as="geometry">
            <mxRectangle width="88" height="48" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-175" value="enum" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-173">
          <mxGeometry x="88" width="87" height="48" as="geometry">
            <mxRectangle width="87" height="48" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-176" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-166">
          <mxGeometry y="173" width="175" height="47" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-177" value="status" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-176">
          <mxGeometry width="88" height="47" as="geometry">
            <mxRectangle width="88" height="47" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-178" value="enum" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-176">
          <mxGeometry x="88" width="87" height="47" as="geometry">
            <mxRectangle width="87" height="47" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-179" value="user" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;" vertex="1" parent="1">
          <mxGeometry x="40" y="760" width="240" height="220" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-180" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-179">
          <mxGeometry y="30" width="240" height="38" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-181" value="userId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-180">
          <mxGeometry width="120" height="38" as="geometry">
            <mxRectangle width="120" height="38" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-182" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-180">
          <mxGeometry x="120" width="120" height="38" as="geometry">
            <mxRectangle width="120" height="38" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-183" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-179">
          <mxGeometry y="68" width="240" height="38" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-184" value="firstName" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-183">
          <mxGeometry width="120" height="38" as="geometry">
            <mxRectangle width="120" height="38" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-185" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-183">
          <mxGeometry x="120" width="120" height="38" as="geometry">
            <mxRectangle width="120" height="38" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-186" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-179">
          <mxGeometry y="106" width="240" height="38" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-187" value="lastName" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-186">
          <mxGeometry width="120" height="38" as="geometry">
            <mxRectangle width="120" height="38" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-188" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-186">
          <mxGeometry x="120" width="120" height="38" as="geometry">
            <mxRectangle width="120" height="38" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-189" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-179">
          <mxGeometry y="144" width="240" height="38" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-190" value="email" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-189">
          <mxGeometry width="120" height="38" as="geometry">
            <mxRectangle width="120" height="38" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-191" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-189">
          <mxGeometry x="120" width="120" height="38" as="geometry">
            <mxRectangle width="120" height="38" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-192" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-179">
          <mxGeometry y="182" width="240" height="38" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-193" value="password" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-192">
          <mxGeometry width="120" height="38" as="geometry">
            <mxRectangle width="120" height="38" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-194" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-192">
          <mxGeometry x="120" width="120" height="38" as="geometry">
            <mxRectangle width="120" height="38" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-195" value="Vehicle" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;" vertex="1" parent="1">
          <mxGeometry x="520" y="420" width="160" height="160" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-196" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-195">
          <mxGeometry y="30" width="160" height="43" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-197" value="userId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-196">
          <mxGeometry width="80" height="43" as="geometry">
            <mxRectangle width="80" height="43" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-198" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-196">
          <mxGeometry x="80" width="80" height="43" as="geometry">
            <mxRectangle width="80" height="43" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-199" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-195">
          <mxGeometry y="73" width="160" height="44" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-200" value="license" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-199">
          <mxGeometry width="80" height="44" as="geometry">
            <mxRectangle width="80" height="44" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-201" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-199">
          <mxGeometry x="80" width="80" height="44" as="geometry">
            <mxRectangle width="80" height="44" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-202" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-195">
          <mxGeometry y="117" width="160" height="43" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-203" value="vehicleType" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-202">
          <mxGeometry width="80" height="43" as="geometry">
            <mxRectangle width="80" height="43" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-204" value="enum" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="ElQejplBdKBRBNl6pfe9-202">
          <mxGeometry x="80" width="80" height="43" as="geometry">
            <mxRectangle width="80" height="43" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-205" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ElQejplBdKBRBNl6pfe9-206" target="ElQejplBdKBRBNl6pfe9-211">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-206" value="Web/Mobile UI" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="910" y="520" width="90" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-207" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ElQejplBdKBRBNl6pfe9-211" target="ElQejplBdKBRBNl6pfe9-215">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1230" y="740" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-208" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.333;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="ElQejplBdKBRBNl6pfe9-211" target="ElQejplBdKBRBNl6pfe9-212">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1550" y="548" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-209" value="Write" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="ElQejplBdKBRBNl6pfe9-208">
          <mxGeometry x="0.2757" y="-1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-210" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ElQejplBdKBRBNl6pfe9-211" target="ElQejplBdKBRBNl6pfe9-221">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-211" value="Backend Server" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1100" y="520" width="90" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-212" value="DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1545" y="425" width="65" height="95" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-213" value="DB (Read Replica)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1550" y="550" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-214" value="DB (Read Replica)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1550" y="650" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-215" value="Load Balancer" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="1">
          <mxGeometry x="1240" y="616" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-216" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.008;entryY=0.588;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" edge="1" parent="1" source="ElQejplBdKBRBNl6pfe9-215" target="ElQejplBdKBRBNl6pfe9-213">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-217" value="Read" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="ElQejplBdKBRBNl6pfe9-216">
          <mxGeometry x="0.3436" y="-4" relative="1" as="geometry">
            <mxPoint x="14" y="-3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-218" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=52.5;entryPerimeter=0;" edge="1" parent="1" source="ElQejplBdKBRBNl6pfe9-215" target="ElQejplBdKBRBNl6pfe9-214">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-219" value="Read" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="ElQejplBdKBRBNl6pfe9-218">
          <mxGeometry x="0.5381" y="-1" relative="1" as="geometry">
            <mxPoint x="1" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-220" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ElQejplBdKBRBNl6pfe9-221" target="ElQejplBdKBRBNl6pfe9-223">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-221" value="3rd Party Payment Integration" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1100" y="350" width="90" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-222" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Scale&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;No of parking spots in a parking lot&lt;/li&gt;&lt;ul&gt;&lt;li&gt;(# of floors) * (# of parking spots)&lt;/li&gt;&lt;li&gt;10 * 500&lt;/li&gt;&lt;li&gt;5K&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;Data Size for a parking slot&lt;/li&gt;&lt;ul&gt;&lt;li&gt;(# of parking spots) * (size per parking spot)&lt;/li&gt;&lt;li&gt;5K * 1K&lt;/li&gt;&lt;li&gt;5MB (which fits one machine)&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;Data Size for tickets&lt;/li&gt;&lt;ul&gt;&lt;li&gt;(# of parkings) * (size per ticket)&lt;/li&gt;&lt;li&gt;10K * 100 bytes&lt;/li&gt;&lt;li&gt;1MB&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;Data for 10 years&lt;/li&gt;&lt;ul&gt;&lt;li&gt;10 * 365 * 1Mb&lt;/li&gt;&lt;li&gt;3.65 GB (which fits 1 machine)&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;What if we want to build 1 mil parking lots&lt;/li&gt;&lt;ul&gt;&lt;li&gt;build distributed solution&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="920" y="20" width="350" height="300" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-223" value="Ticketing DB" style="whiteSpace=wrap;html=1;aspect=fixed;shape=cylinder3;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1270" y="350" width="90" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-224" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Enums&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Vehicle Type&lt;/li&gt;&lt;ul&gt;&lt;li&gt;S&lt;/li&gt;&lt;li&gt;M&lt;/li&gt;&lt;li&gt;L&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;Status&lt;/li&gt;&lt;ul&gt;&lt;li&gt;Occupied&lt;/li&gt;&lt;li&gt;Unoccupied&lt;/li&gt;&lt;li&gt;Under Repair&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="520" y="620" width="190" height="230" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-225" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ElQejplBdKBRBNl6pfe9-226" target="ElQejplBdKBRBNl6pfe9-230">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-226" value="User" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="910" y="810" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-227" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ElQejplBdKBRBNl6pfe9-230" target="ElQejplBdKBRBNl6pfe9-232">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1300" y="814" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1225" y="850" />
              <mxPoint x="1225" y="815" />
              <mxPoint x="1370" y="815" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-228" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="ElQejplBdKBRBNl6pfe9-230" target="ElQejplBdKBRBNl6pfe9-234">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1230" y="914" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-229" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ElQejplBdKBRBNl6pfe9-230" target="ElQejplBdKBRBNl6pfe9-236">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-230" value="Parking Service" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1070" y="810" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-231" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.013;entryY=0.545;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="ElQejplBdKBRBNl6pfe9-237">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1380" y="814" as="sourcePoint" />
            <mxPoint x="1460" y="814" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-232" value="Slot Service" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1300" y="770" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-233" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ElQejplBdKBRBNl6pfe9-234" target="ElQejplBdKBRBNl6pfe9-238">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-234" value="Pricing Service" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1300" y="874" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-235" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ElQejplBdKBRBNl6pfe9-236" target="ElQejplBdKBRBNl6pfe9-239">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-236" value="Parking Cache" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1070" y="970" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-237" value="Slot and Allocation DB" style="whiteSpace=wrap;html=1;aspect=fixed;shape=cylinder3;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1460" y="770" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-238" value="Pricing and Policies DB" style="whiteSpace=wrap;html=1;aspect=fixed;shape=cylinder3;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1460" y="874" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-239" value="Ticketing DB" style="whiteSpace=wrap;html=1;aspect=fixed;shape=cylinder3;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1230" y="970" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-240" value="Need concurrency" style="shape=tape;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1550" y="764" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-241" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Concurrency&lt;/h1&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;only for Slot Service&lt;/li&gt;&lt;li&gt;Steps&lt;/li&gt;&lt;ul&gt;&lt;li&gt;query for available slots&lt;/li&gt;&lt;li&gt;pick slot available&lt;/li&gt;&lt;li&gt;try lock on slot. If fails choose another&lt;/li&gt;&lt;li&gt;assign slot to vehicle, make it occupied&lt;/li&gt;&lt;li&gt;unlock&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1320" y="20" width="320" height="170" as="geometry" />
        </mxCell>
        <mxCell id="ElQejplBdKBRBNl6pfe9-242" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Distributed&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Sharding of Data&lt;/li&gt;&lt;ul&gt;&lt;li&gt;Ticket and Parking Slot&lt;/li&gt;&lt;ul&gt;&lt;li&gt;based on garageId&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1320" y="190" width="310" height="130" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="h7L9gdeFRkXItuEfLJFP" name="UrlShortner">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="62Le15OUXPbMPa44AArX-1" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Functional Requirements&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;users can create a short url from long url&lt;/li&gt;&lt;ul&gt;&lt;li&gt;optionally support custom alias&lt;/li&gt;&lt;li&gt;optionally&amp;nbsp;support expiration time&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;users to be redirected to long url from short url&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="30" width="400" height="120" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-2" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Non-Functional Requirements&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Low latency on redirects (~200ms)&lt;/li&gt;&lt;li&gt;Scale to support 100M DAU and 1B urls&lt;/li&gt;&lt;li&gt;Ensure uniqueness of codes to avoid collision&lt;/li&gt;&lt;li&gt;CAP Theorem (Consistency, Availability, Partition Tolerance)&lt;/li&gt;&lt;ul&gt;&lt;li&gt;Partition Tolerance&lt;/li&gt;&lt;li&gt;High Availability&amp;nbsp;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Eventual Consistency instead of strong consistency&lt;/span&gt;&lt;br&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;strong read after write consistency is not required&lt;/span&gt;&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="190" width="400" height="170" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-3" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Back of the Envelope Estimations (BOTE)&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Scale&lt;/li&gt;&lt;li&gt;Latency&lt;/li&gt;&lt;li&gt;Storage&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="410" width="390" height="140" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-4" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Core Entities&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Original Url&lt;/li&gt;&lt;li&gt;Short Url&lt;/li&gt;&lt;li&gt;User&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="590" width="180" height="120" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-5" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;API&lt;/h1&gt;&lt;div&gt;// shorten a url&lt;/div&gt;&lt;div&gt;POST urls -&amp;gt; shortUrl&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;originalUrl,&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;alias?,&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;expirationTime?&lt;br&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;// redirect&lt;/div&gt;&lt;div&gt;GET /{shortUrl} -&amp;gt; Redirect to OriginalUrl&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Note: 302 redirect, logging and understand if something broke&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;301 Redirect -&amp;gt; permanent (cached by browser and DNS)&lt;/li&gt;&lt;li&gt;302 Redirect -&amp;gt; temporary&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="750" width="360" height="300" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="62Le15OUXPbMPa44AArX-7" target="62Le15OUXPbMPa44AArX-54">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-7" value="Client" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="840" y="150" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="62Le15OUXPbMPa44AArX-9" target="62Le15OUXPbMPa44AArX-60">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1390" y="270.36363636363626" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-9" value="Write&amp;nbsp;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Service (s)&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1255" y="210" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-10" value="DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1490" y="140" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-11" value="Url" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;" vertex="1" parent="1">
          <mxGeometry x="540" y="30" width="200" height="400" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-12" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="62Le15OUXPbMPa44AArX-11">
          <mxGeometry y="30" width="200" height="62" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-13" value="userId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-12">
          <mxGeometry width="100" height="62" as="geometry">
            <mxRectangle width="100" height="62" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-14" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-12">
          <mxGeometry x="100" width="100" height="62" as="geometry">
            <mxRectangle width="100" height="62" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-15" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="62Le15OUXPbMPa44AArX-11">
          <mxGeometry y="92" width="200" height="61" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-16" value="shortUrl" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-15">
          <mxGeometry width="100" height="61" as="geometry">
            <mxRectangle width="100" height="61" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-17" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-15">
          <mxGeometry x="100" width="100" height="61" as="geometry">
            <mxRectangle width="100" height="61" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-18" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="62Le15OUXPbMPa44AArX-11">
          <mxGeometry y="153" width="200" height="62" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-19" value="longUrl" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-18">
          <mxGeometry width="100" height="62" as="geometry">
            <mxRectangle width="100" height="62" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-20" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-18">
          <mxGeometry x="100" width="100" height="62" as="geometry">
            <mxRectangle width="100" height="62" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-21" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="62Le15OUXPbMPa44AArX-11">
          <mxGeometry y="215" width="200" height="62" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-22" value="alias" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-21">
          <mxGeometry width="100" height="62" as="geometry">
            <mxRectangle width="100" height="62" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-23" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-21">
          <mxGeometry x="100" width="100" height="62" as="geometry">
            <mxRectangle width="100" height="62" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-24" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="62Le15OUXPbMPa44AArX-11">
          <mxGeometry y="277" width="200" height="61" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-25" value="expirationTime" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-24">
          <mxGeometry width="100" height="61" as="geometry">
            <mxRectangle width="100" height="61" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-26" value="timestamp" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-24">
          <mxGeometry x="100" width="100" height="61" as="geometry">
            <mxRectangle width="100" height="61" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-27" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="62Le15OUXPbMPa44AArX-11">
          <mxGeometry y="338" width="200" height="62" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-28" value="creationTime" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-27">
          <mxGeometry width="100" height="62" as="geometry">
            <mxRectangle width="100" height="62" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-29" value="timestamp" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-27">
          <mxGeometry x="100" width="100" height="62" as="geometry">
            <mxRectangle width="100" height="62" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-30" value="User" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;" vertex="1" parent="1">
          <mxGeometry x="540" y="470" width="200" height="280" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-31" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="62Le15OUXPbMPa44AArX-30">
          <mxGeometry y="30" width="200" height="42" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-32" value="userId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-31">
          <mxGeometry width="100" height="42" as="geometry">
            <mxRectangle width="100" height="42" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-33" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-31">
          <mxGeometry x="100" width="100" height="42" as="geometry">
            <mxRectangle width="100" height="42" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-34" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="62Le15OUXPbMPa44AArX-30">
          <mxGeometry y="72" width="200" height="41" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-35" value="firstName" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-34">
          <mxGeometry width="100" height="41" as="geometry">
            <mxRectangle width="100" height="41" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-36" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-34">
          <mxGeometry x="100" width="100" height="41" as="geometry">
            <mxRectangle width="100" height="41" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-37" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="62Le15OUXPbMPa44AArX-30">
          <mxGeometry y="113" width="200" height="42" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-38" value="lastName" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-37">
          <mxGeometry width="100" height="42" as="geometry">
            <mxRectangle width="100" height="42" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-39" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-37">
          <mxGeometry x="100" width="100" height="42" as="geometry">
            <mxRectangle width="100" height="42" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-40" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="62Le15OUXPbMPa44AArX-30">
          <mxGeometry y="155" width="200" height="42" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-41" value="email" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-40">
          <mxGeometry width="100" height="42" as="geometry">
            <mxRectangle width="100" height="42" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-42" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-40">
          <mxGeometry x="100" width="100" height="42" as="geometry">
            <mxRectangle width="100" height="42" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-43" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="62Le15OUXPbMPa44AArX-30">
          <mxGeometry y="197" width="200" height="41" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-44" value="password" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-43">
          <mxGeometry width="100" height="41" as="geometry">
            <mxRectangle width="100" height="41" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-45" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-43">
          <mxGeometry x="100" width="100" height="41" as="geometry">
            <mxRectangle width="100" height="41" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-46" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="62Le15OUXPbMPa44AArX-30">
          <mxGeometry y="238" width="200" height="42" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-47" value="creationTime" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-46">
          <mxGeometry width="100" height="42" as="geometry">
            <mxRectangle width="100" height="42" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-48" value="timestamp" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="62Le15OUXPbMPa44AArX-46">
          <mxGeometry x="100" width="100" height="42" as="geometry">
            <mxRectangle width="100" height="42" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-49" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Notes&lt;/h1&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;fast&lt;/li&gt;&lt;li&gt;unique&lt;/li&gt;&lt;li&gt;short (5-7 characters)&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;prefix of a long url&lt;/li&gt;&lt;li&gt;random number generator&lt;/li&gt;&lt;ul&gt;&lt;li&gt;atleast 1B based on requirement, 10^9, which is 10 characters&lt;/li&gt;&lt;li&gt;base62 encoding, 0-9, A-Z, a-z (10+26+26 = 62)&lt;/li&gt;&lt;li&gt;62^6 is 56 B, Collision is still high, Birthday Paradox (2 people in 23 people have 50% chance of same birthday)&lt;/li&gt;&lt;li&gt;check for collision, introduces a read&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;hash the long url&lt;/li&gt;&lt;ul&gt;&lt;li&gt;md5(longUrl) -&amp;gt; hash -&amp;gt; base62(hash) -&amp;gt; First 6 characters&lt;/li&gt;&lt;li&gt;same collision as above&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;Counter&lt;/li&gt;&lt;ul&gt;&lt;li&gt;increment the counter -&amp;gt; base62 (counter)&lt;/li&gt;&lt;li&gt;predictability leading to bad security&lt;/li&gt;&lt;ul&gt;&lt;li&gt;product warning&amp;nbsp;&lt;/li&gt;&lt;li&gt;rate limiting&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;fix using bijective functions, which will have 1:1 mapping&lt;/li&gt;&lt;ul&gt;&lt;li&gt;will not require read from DB&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;Cache&lt;/li&gt;&lt;ul&gt;&lt;li&gt;read through cache&lt;/li&gt;&lt;li&gt;LRU cache&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;Potential use of CDN&lt;/li&gt;&lt;ul&gt;&lt;li&gt;helps with geographical caching and reducing latency&lt;/li&gt;&lt;li&gt;downside that redirects would be permanent&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;100M users, 10^8&lt;/li&gt;&lt;li&gt;10^5 seconds in a day&lt;/li&gt;&lt;li&gt;Requests per second&amp;nbsp;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;10^8 / 10^5 = 10^3&lt;/li&gt;&lt;li&gt;Peak per day, multiply by 100&lt;/li&gt;&lt;li&gt;10^5 rps&lt;/li&gt;&lt;li&gt;Generally, EC2 handles 10^3 concurrent rps&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;Reads need to scale here instead of writes, since not many people will be creating short URL&lt;/li&gt;&lt;li&gt;Data&lt;/li&gt;&lt;ul&gt;&lt;li&gt;8+100+8+100+8 = 224 bytes&amp;nbsp;&lt;/li&gt;&lt;li&gt;Add misc and make it 500 bytes&lt;/li&gt;&lt;li&gt;500 bytes * 1B = 500GB&lt;/li&gt;&lt;li&gt;Single DB can easily handle it&lt;/li&gt;&lt;li&gt;In future if needed we can Shard based on shortUrl. In case of 3 DB, DB % 3 to find the right DB&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="860" y="310" width="770" height="750" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-50" value="Redis Cache" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1440" y="10" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.333;entryY=0.005;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;startArrow=classic;" edge="1" parent="1" source="62Le15OUXPbMPa44AArX-50" target="62Le15OUXPbMPa44AArX-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-52" value="Read&amp;nbsp;&lt;div&gt;Service (s)&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1260" y="50" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;" edge="1" parent="1" source="62Le15OUXPbMPa44AArX-54" target="62Le15OUXPbMPa44AArX-59">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-54" value="API Gateway (Entry point)" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="980" y="150" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.994;exitY=0.147;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitPerimeter=0;" edge="1" parent="1" source="62Le15OUXPbMPa44AArX-9" target="62Le15OUXPbMPa44AArX-10">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1380" y="222" />
              <mxPoint x="1380" y="180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.039;entryY=0.414;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=classic;exitX=1;exitY=0.25;exitDx=0;exitDy=0;curved=1;" edge="1" parent="1" source="62Le15OUXPbMPa44AArX-52" target="62Le15OUXPbMPa44AArX-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=classic;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1200" y="190.00030927835053" as="sourcePoint" />
            <mxPoint x="1260" y="89.99" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1230" y="189.99" />
              <mxPoint x="1230" y="89.99" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="62Le15OUXPbMPa44AArX-59" target="62Le15OUXPbMPa44AArX-9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1230" y="190" />
              <mxPoint x="1230" y="250" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-59" value="Load Balancer" style="whiteSpace=wrap;html=1;aspect=fixed;shape=process;backgroundOutline=1;" vertex="1" parent="1">
          <mxGeometry x="1120" y="150" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="62Le15OUXPbMPa44AArX-60" value="Global Counter (Redis)" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1400" y="230" width="80" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="HLTfz17R7Xp0VuLi3GgG" name="Instagram">
    <mxGraphModel dx="2633" dy="1340" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="eetc4xeCYdEDNpd0VTsH-1" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1210" y="330" width="260" height="120" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-2" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="980" y="960" width="240" height="120" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-3" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Functional Requirements&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;upload images from mobile client&lt;/li&gt;&lt;li&gt;allow users to follow users&lt;/li&gt;&lt;li&gt;generate a feed of images&lt;/li&gt;&lt;li&gt;10 mil users&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="40" width="400" height="170" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-4" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Non-Functional Requirements&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;High Scalability&lt;/li&gt;&lt;li&gt;High availability&lt;/li&gt;&lt;li&gt;Eventual Consistency&lt;/li&gt;&lt;li&gt;High Durability&lt;/li&gt;&lt;li&gt;Low Latency&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="290" width="400" height="160" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-5" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Back of the Envelope Estimations&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Scale&lt;/li&gt;&lt;ul&gt;&lt;li&gt;10 mil DAU&lt;/li&gt;&lt;li&gt;10 * 10^6 / 10^5 = 100 (write) requests per sec&lt;/li&gt;&lt;li&gt;Read to write ratio, 100:1&lt;/li&gt;&lt;li&gt;10K (read) requests per sec&lt;/li&gt;&lt;li&gt;10100 QPS (queries per second)&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;Storage&lt;/li&gt;&lt;ul&gt;&lt;li&gt;10^7 * 2 (photos per day)&amp;nbsp;* 5 MB (avg size of photo)&lt;/li&gt;&lt;li&gt;10 ^8 MB&lt;/li&gt;&lt;li&gt;100 TB per day&lt;/li&gt;&lt;li&gt;100 TB * 365 = 36.5 PB per year&amp;nbsp;&lt;/li&gt;&lt;li&gt;365 PB for 10 years&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="490" width="430" height="260" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-6" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;API&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;POST /api/upload&lt;/li&gt;&lt;ul&gt;&lt;li&gt;Params: file and media metadata&lt;/li&gt;&lt;li&gt;Response Code: 201 created&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;GET /api/post/{id}&lt;/li&gt;&lt;ul&gt;&lt;li&gt;Params: postId&lt;/li&gt;&lt;li&gt;Response Code: 200 success&amp;nbsp;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;GET /api/feed&lt;/li&gt;&lt;ul&gt;&lt;li&gt;Params: userId, pagination&lt;/li&gt;&lt;li&gt;Response Code: 200 success&amp;nbsp;&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="770" width="400" height="200" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-7" value="User" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;" vertex="1" parent="1">
          <mxGeometry x="440" y="30" width="150" height="310" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-8" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-7">
          <mxGeometry y="30" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-9" value="userId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-8">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-10" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-8">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-11" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-7">
          <mxGeometry y="70" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-12" value="firstName" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-11">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-13" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-11">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-14" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-7">
          <mxGeometry y="110" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-15" value="LastName" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-14">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-16" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-14">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-17" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-7">
          <mxGeometry y="150" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-18" value="email" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-17">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-19" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-17">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-20" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-7">
          <mxGeometry y="190" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-21" value="password" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-20">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-22" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-20">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-23" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-7">
          <mxGeometry y="230" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-24" value="location" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-23">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-25" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-23">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-26" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-7">
          <mxGeometry y="270" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-27" value="creationTime" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-26">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-28" value="timestamp" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-26">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-29" value="Post" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;" vertex="1" parent="1">
          <mxGeometry x="610" y="30" width="150" height="230" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-30" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-29">
          <mxGeometry y="30" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-31" value="postId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-30">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-32" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-30">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-33" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-29">
          <mxGeometry y="70" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-34" value="userId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-33">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-35" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-33">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-36" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-29">
          <mxGeometry y="110" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-37" value="caption" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-36">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-38" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-36">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-39" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-29">
          <mxGeometry y="150" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-40" value="location" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-39">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-41" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-39">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-42" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-29">
          <mxGeometry y="190" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-43" value="creationTime" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-42">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-44" value="timestamp" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-42">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-45" value="PostMedia" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;" vertex="1" parent="1">
          <mxGeometry x="950" y="30" width="120" height="110" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-46" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-45">
          <mxGeometry y="30" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-47" value="postId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-46">
          <mxGeometry width="60" height="40" as="geometry">
            <mxRectangle width="60" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-48" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-46">
          <mxGeometry x="60" width="60" height="40" as="geometry">
            <mxRectangle width="60" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-49" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-45">
          <mxGeometry y="70" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-50" value="mediaId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-49">
          <mxGeometry width="60" height="40" as="geometry">
            <mxRectangle width="60" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-51" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-49">
          <mxGeometry x="60" width="60" height="40" as="geometry">
            <mxRectangle width="60" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eetc4xeCYdEDNpd0VTsH-53" target="eetc4xeCYdEDNpd0VTsH-110">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-53" value="Post DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1380" y="350" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eetc4xeCYdEDNpd0VTsH-55" target="eetc4xeCYdEDNpd0VTsH-93">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-55" value="Object Storage (S3)" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1240" y="480" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-56" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eetc4xeCYdEDNpd0VTsH-58" target="eetc4xeCYdEDNpd0VTsH-95">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="eetc4xeCYdEDNpd0VTsH-58" target="eetc4xeCYdEDNpd0VTsH-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-58" value="Post Service" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1060" y="480" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="eetc4xeCYdEDNpd0VTsH-58" target="eetc4xeCYdEDNpd0VTsH-55">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1170" y="500" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-60" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eetc4xeCYdEDNpd0VTsH-62" target="eetc4xeCYdEDNpd0VTsH-58">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="eetc4xeCYdEDNpd0VTsH-62" target="eetc4xeCYdEDNpd0VTsH-102">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-62" value="Load Balancer" style="shape=rhombus;whiteSpace=wrap;html=1;backgroundOutline=1;perimeter=rhombusPerimeter;" vertex="1" parent="1">
          <mxGeometry x="870" y="490" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-63" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eetc4xeCYdEDNpd0VTsH-64" target="eetc4xeCYdEDNpd0VTsH-92">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-64" value="Client" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="560" y="480" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-65" value="Media" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;" vertex="1" parent="1">
          <mxGeometry x="780" y="30" width="150" height="270" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-66" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-65">
          <mxGeometry y="30" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-67" value="mediaId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-66">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-68" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-66">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-69" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-65">
          <mxGeometry y="70" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-70" value="userId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-69">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-71" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-69">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-72" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-65">
          <mxGeometry y="110" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-73" value="caption" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-72">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-74" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-72">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-75" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-65">
          <mxGeometry y="150" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-76" value="location" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-75">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-77" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-75">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-78" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-65">
          <mxGeometry y="190" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-79" value="path" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-78">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-80" value="varchar" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-78">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-81" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-65">
          <mxGeometry y="230" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-82" value="creationTime" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-81">
          <mxGeometry width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-83" value="timestamp" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-81">
          <mxGeometry x="75" width="75" height="40" as="geometry">
            <mxRectangle width="75" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-84" value="Follower" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;" vertex="1" parent="1">
          <mxGeometry x="950" y="170" width="120" height="110" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-85" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-84">
          <mxGeometry y="30" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-86" value="userId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-85">
          <mxGeometry width="60" height="40" as="geometry">
            <mxRectangle width="60" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-87" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-85">
          <mxGeometry x="60" width="60" height="40" as="geometry">
            <mxRectangle width="60" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-88" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;strokeColor=inherit;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-84">
          <mxGeometry y="70" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-89" value="followerId" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-88">
          <mxGeometry width="60" height="40" as="geometry">
            <mxRectangle width="60" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-90" value="int" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;strokeColor=inherit;overflow=hidden;fillColor=none;top=0;left=0;bottom=0;right=0;pointerEvents=1;" vertex="1" parent="eetc4xeCYdEDNpd0VTsH-88">
          <mxGeometry x="60" width="60" height="40" as="geometry">
            <mxRectangle width="60" height="40" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-91" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eetc4xeCYdEDNpd0VTsH-92" target="eetc4xeCYdEDNpd0VTsH-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-92" value="Gateway" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="720" y="480" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-93" value="CDN" style="shape=label;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1390" y="480" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eetc4xeCYdEDNpd0VTsH-95" target="eetc4xeCYdEDNpd0VTsH-102">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-95" value="Kafka" style="whiteSpace=wrap;html=1;aspect=fixed;shape=cube;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="1060" y="630" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-96" value="Neo 4j&amp;nbsp;&lt;div&gt;(Graph DB)&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;shape=cylinder3;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1240" y="740" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-97" value="Indexes" style="whiteSpace=wrap;html=1;aspect=fixed;shape=cylinder3;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1240" y="630" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-98" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="eetc4xeCYdEDNpd0VTsH-102" target="eetc4xeCYdEDNpd0VTsH-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-99" value="Push" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="eetc4xeCYdEDNpd0VTsH-98">
          <mxGeometry x="-0.0387" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-100" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eetc4xeCYdEDNpd0VTsH-102" target="eetc4xeCYdEDNpd0VTsH-1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1520" y="870" />
              <mxPoint x="1520" y="390" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-101" value="Pull" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="eetc4xeCYdEDNpd0VTsH-100">
          <mxGeometry x="0.1859" y="4" relative="1" as="geometry">
            <mxPoint x="-156" y="160" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-102" value="User Feed Service" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1060" y="810" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-103" value="User Feed Cache&amp;nbsp;&lt;div&gt;(Redis)&lt;/div&gt;" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1005" y="980" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-104" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Feed Model&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;push model for majority of users i.e. when user posts the the feed caches of their followers are updates&lt;/li&gt;&lt;li&gt;pull model for celebrities where users are forced to get the latest posts from celebrities they follow&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="580" y="795" width="300" height="150" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-105" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="eetc4xeCYdEDNpd0VTsH-95" target="eetc4xeCYdEDNpd0VTsH-97">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-106" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="eetc4xeCYdEDNpd0VTsH-102" target="eetc4xeCYdEDNpd0VTsH-96">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-107" value="fetch" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="eetc4xeCYdEDNpd0VTsH-106">
          <mxGeometry x="-0.3297" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-108" value="User Feed DB" style="whiteSpace=wrap;html=1;aspect=fixed;shape=cylinder3;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1115" y="980" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-109" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=52.5;entryPerimeter=0;" edge="1" parent="1" source="eetc4xeCYdEDNpd0VTsH-95" target="eetc4xeCYdEDNpd0VTsH-96">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eetc4xeCYdEDNpd0VTsH-110" value="Post Cache" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1230" y="350" width="80" height="80" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="BM8zh54oFEZDL_S1QSXD" name="AmazonPrime">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="AsHtNMLsNTLCxXA9mggR" name="AutocompleteSearch">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="_Py8eU-1QK_QJ3fdEzKH" name="ChatSystem">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="ElrfjcbxXBRod3dKMUDI" name="Dropbox">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="xuDd2va01wuTy5x4FWpM" name="GoogleDrive">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="m3R-a1uwguVm6OrozAWQ" name="GoogleDoc">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="LYqWkGhWjBnTeOWA60cs" name="NewsFeed">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="A83ryYti0Zb8g_t8w_tQ" name="NotificationSystem">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="pBWcln6Emar2pVjUjSf0" name="PasteBin">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="4chhZBwdLlZkyJ22L9Ky" name="Shopify">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="qEJA5s6f-e9VgSzhkvTb" name="TagService">
    <mxGraphModel dx="2370" dy="1206" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="7RX1tUwpbieQaAGKWVch-1" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Functional Requirements&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="50" y="40" width="400" height="170" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-2" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Non-Functional Requirements&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Fault Tolerant&lt;/li&gt;&lt;li&gt;Scalable&lt;/li&gt;&lt;ul&gt;&lt;li&gt;Throughput&lt;/li&gt;&lt;li&gt;Storage&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;Resilience&lt;/li&gt;&lt;li&gt;&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="50" y="290" width="400" height="200" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-3" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Back of the Envelope Estimations&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Daily Active Users (DAU): 10^6&lt;/span&gt;&lt;br&gt;&lt;/li&gt;&lt;li&gt;Operations per User per Day: 10&lt;/li&gt;&lt;li&gt;Total Daily Operations: 10^7&lt;/li&gt;&lt;li&gt;QPS: 10^7 / 10^5 = 100&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;Read/Write Ratio: 10 reads per write&lt;/li&gt;&lt;li&gt;Total Write Operations: 1 million write operations/day&lt;/li&gt;&lt;li&gt;Total Read Operations: 9 million read operations/day&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;Bytes per tag: 16 characters  2 bytes = 32 bytes&lt;/li&gt;&lt;li&gt;Total throughput: 10^7  32 bytes = 320 MB&lt;/li&gt;&lt;li&gt;Monthly New Tags: 30 million tags/month&lt;/li&gt;&lt;li&gt;Storage Requirement per Day: 1,000,000 tags  32 bytes = 32 MB/day&lt;/li&gt;&lt;li&gt;Storage Requirement per Month: 32 MB  30 days = 960 MB (~1 GB)&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="50" y="530" width="400" height="370" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-4" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Notes&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="50" y="920" width="400" height="200" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="7RX1tUwpbieQaAGKWVch-6" target="7RX1tUwpbieQaAGKWVch-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-6" value="Client" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="550" y="270" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="7RX1tUwpbieQaAGKWVch-9" target="7RX1tUwpbieQaAGKWVch-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="7RX1tUwpbieQaAGKWVch-9" target="7RX1tUwpbieQaAGKWVch-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-9" value="Load Balancer" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="740" y="270" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-10" value="Create Tag Service" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="950" y="270" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-11" value="Tag" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;html=1;" vertex="1" parent="1">
          <mxGeometry x="450" y="40" width="140" height="78" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-12" value="tagId" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="7RX1tUwpbieQaAGKWVch-11">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-13" value="tagName" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="7RX1tUwpbieQaAGKWVch-11">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-14" value="Item" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;html=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="40" width="140" height="78" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-15" value="itemId" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="7RX1tUwpbieQaAGKWVch-14">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-16" value="itemName" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="7RX1tUwpbieQaAGKWVch-14">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-17" value="TagItem" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;html=1;" vertex="1" parent="1">
          <mxGeometry x="820" y="40" width="140" height="78" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-18" value="itemId" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="7RX1tUwpbieQaAGKWVch-17">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-19" value="tagId" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="7RX1tUwpbieQaAGKWVch-17">
          <mxGeometry y="52" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-20" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;API&lt;/h1&gt;&lt;p&gt;POST /tag&amp;nbsp;&lt;/p&gt;&lt;p&gt;{&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;tagId&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;, postId&lt;br&gt;&lt;/p&gt;&lt;p&gt;}&lt;/p&gt;&lt;p&gt;returns&amp;nbsp;&lt;/p&gt;&lt;p&gt;GET /tag&lt;/p&gt;&lt;p&gt;{&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;tagId&lt;br&gt;&lt;/p&gt;&lt;p&gt;}&lt;/p&gt;&lt;p&gt;returns List&amp;lt;Tag&amp;gt;;&lt;/p&gt;&lt;p&gt;GET /post&lt;/p&gt;&lt;p&gt;{&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;postId&lt;br&gt;&lt;/p&gt;&lt;p&gt;}&lt;/p&gt;&lt;p&gt;returns List&amp;lt;Tag&amp;gt;;&lt;br&gt;&lt;/p&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1500" y="30" width="180" height="830" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-21" value="Search Tag Service" style="whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="880" y="540" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="7RX1tUwpbieQaAGKWVch-23" target="7RX1tUwpbieQaAGKWVch-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-23" value="Message Queue" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1140" y="280" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.025;entryY=0.617;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="7RX1tUwpbieQaAGKWVch-10" target="7RX1tUwpbieQaAGKWVch-23">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-25" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1055" y="380" width="370" height="230" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-26" value="DB Read" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1080" y="510" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-27" value="DB Read" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1170" y="510" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-28" value="DB Read" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1260" y="510" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-29" value="DB Read" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1350" y="510" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-30" value="DS Write" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1210" y="390" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="7RX1tUwpbieQaAGKWVch-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=52.5;entryPerimeter=0;" edge="1" parent="1" source="7RX1tUwpbieQaAGKWVch-21" target="7RX1tUwpbieQaAGKWVch-26">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="IVwO2s3eIDwqKJXFQ0El" name="TicketMaster">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="NeJ0mVNk6Gh_qI-mA2y_" name="Ticktok">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="YBKukvvEEBlLJKOz4rye" name="Uber">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Z4OXMOEZ4VprUP4FX7wD" name="Webcrawler">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Y-VIjS3oybEWJtvYVs1v" name="Youtube">
    <mxGraphModel dx="1185" dy="603" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="V-8ojAOd0IYdUsNzRLoI" name="EmailArchive">
    <mxGraphModel dx="2305" dy="1134" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-1" value="Client Apps&#xa;(Web, Mobile)" style="shape=rectangle;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="220" y="220" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-2" value="Load Balancer" style="shape=rectangle;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="220" y="300" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-3" style="endArrow=block;html=1;" parent="1" source="4u1FXxSwoDmPP1FRX0bt-1" target="4u1FXxSwoDmPP1FRX0bt-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-4" value="API Gateway&#xa;(Auth, Rate Limit)" style="shape=rectangle;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="220" y="380" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-5" style="endArrow=block;html=1;" parent="1" source="4u1FXxSwoDmPP1FRX0bt-2" target="4u1FXxSwoDmPP1FRX0bt-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-6" value="Real-time Comm.&#xa;(WebSocket Server)" style="shape=rectangle;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="300" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-7" style="endArrow=block;dashed=1;html=1;" parent="1" source="4u1FXxSwoDmPP1FRX0bt-4" target="4u1FXxSwoDmPP1FRX0bt-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-8" value="API Servers&#xa;(Business Logic)" style="shape=rectangle;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="220" y="460" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-9" style="endArrow=block;html=1;" parent="1" source="4u1FXxSwoDmPP1FRX0bt-4" target="4u1FXxSwoDmPP1FRX0bt-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-10" value="Message Queue&#xa;(e.g., Kafka)" style="shape=rectangle;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="220" y="540" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-11" style="endArrow=block;html=1;" parent="1" source="4u1FXxSwoDmPP1FRX0bt-8" target="4u1FXxSwoDmPP1FRX0bt-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-12" value="Email Ingestion/MTA&#xa;(SMTP, Parse Mail)" style="shape=rectangle;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="540" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-13" style="endArrow=block;html=1;" parent="1" source="4u1FXxSwoDmPP1FRX0bt-12" target="4u1FXxSwoDmPP1FRX0bt-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-14" value="Action Processor&#xa;Worker (Archives)" style="shape=rectangle;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="40" y="640" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-15" style="endArrow=block;html=1;" parent="1" source="4u1FXxSwoDmPP1FRX0bt-14" target="4u1FXxSwoDmPP1FRX0bt-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-16" value="Email Processor&#xa;Worker (New Threads)" style="shape=rectangle;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="400" y="640" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-17" style="endArrow=block;html=1;" parent="1" source="4u1FXxSwoDmPP1FRX0bt-16" target="4u1FXxSwoDmPP1FRX0bt-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-18" value="Database&#xa;(PostgreSQL, NoSQL)" style="shape=rectangle;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="220" y="740" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-19" style="endArrow=block;html=1;" parent="1" source="4u1FXxSwoDmPP1FRX0bt-10" target="4u1FXxSwoDmPP1FRX0bt-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-20" value="Cache&#xa;(e.g., Redis)" style="shape=rectangle;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="220" y="820" width="140" height="60" as="geometry" />
        </mxCell>
        <mxCell id="4u1FXxSwoDmPP1FRX0bt-21" style="endArrow=block;html=1;" parent="1" source="4u1FXxSwoDmPP1FRX0bt-18" target="4u1FXxSwoDmPP1FRX0bt-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fayFRDLXmqZ6IOXXtcFV-1" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Step-by-Step Interaction Flow&lt;/h1&gt;&lt;p&gt;&lt;/p&gt;&lt;h3 data-sourcepos=&quot;107:1-107:66&quot;&gt;&lt;/h3&gt;&lt;p&gt;&lt;/p&gt;&lt;ol data-sourcepos=&quot;66:1-106:0&quot;&gt;&lt;li data-sourcepos=&quot;66:1-73:0&quot;&gt;&lt;p data-sourcepos=&quot;66:5-66:38&quot;&gt;&lt;strong&gt;Client Action (User Archives)&quot;&lt;/strong&gt;&lt;/p&gt;&lt;ul data-sourcepos=&quot;67:5-73:0&quot;&gt;&lt;li data-sourcepos=&quot;67:5-67:67&quot;&gt;User clicks &quot;Archive&quot; on an email/conversation in the client.&lt;/li&gt;&lt;li data-sourcepos=&quot;68:5-68:150&quot;&gt;&lt;strong&gt;Client (Optimistic UI Update):&lt;/strong&gt; The client immediately moves the email to the &quot;Archive&quot; view locally, providing instant feedback to the user.&lt;/li&gt;&lt;li data-sourcepos=&quot;69:5-73:0&quot;&gt;&lt;strong&gt;Client (API Request):&lt;/strong&gt; The client sends an &lt;code&gt;HTTP POST&lt;/code&gt; request to the API Gateway:&lt;ul data-sourcepos=&quot;70:9-73:0&quot;&gt;&lt;li data-sourcepos=&quot;70:9-70:49&quot;&gt;&lt;code&gt;URL: /api/v1/emails/{emailId}/archive&lt;/code&gt;&lt;/li&gt;&lt;li data-sourcepos=&quot;71:9-71:96&quot;&gt;&lt;code&gt;Body: { &quot;userId&quot;: &quot;...&quot;, &quot;clientVersion&quot;: &quot;timestamp_or_version_id_of_email_state&quot; }&lt;/code&gt;&lt;/li&gt;&lt;li data-sourcepos=&quot;72:9-73:0&quot;&gt;&lt;em&gt;(Note: &lt;code&gt;clientVersion&lt;/code&gt; helps with optimistic concurrency. It indicates the state the client saw when it initiated the archive.)&lt;/em&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;br&gt;&lt;li data-sourcepos=&quot;74:1-78:0&quot;&gt;&lt;p data-sourcepos=&quot;74:5-74:20&quot;&gt;&lt;strong&gt;API Gateway:&lt;/strong&gt;&lt;/p&gt;&lt;ul data-sourcepos=&quot;75:5-78:0&quot;&gt;&lt;li data-sourcepos=&quot;75:5-75:27&quot;&gt;Receives the request.&lt;/li&gt;&lt;li data-sourcepos=&quot;76:5-76:44&quot;&gt;Authenticates and authorizes the user.&lt;/li&gt;&lt;li data-sourcepos=&quot;77:5-78:0&quot;&gt;Forwards the request to an available API Server.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;br&gt;&lt;li data-sourcepos=&quot;79:1-85:0&quot;&gt;&lt;p data-sourcepos=&quot;79:5-79:19&quot;&gt;&lt;strong&gt;API Server:&lt;/strong&gt;&lt;/p&gt;&lt;ul data-sourcepos=&quot;80:5-85:0&quot;&gt;&lt;li data-sourcepos=&quot;80:5-80:28&quot;&gt;Validates the request.&lt;/li&gt;&lt;li data-sourcepos=&quot;81:5-83:106&quot;&gt;&lt;strong&gt;Enqueues Archive Event:&lt;/strong&gt; Instead of directly updating the database, it publishes an &lt;code&gt;ArchiveEmailEvent&lt;/code&gt; message to the Message Queue.&lt;ul data-sourcepos=&quot;82:9-83:106&quot;&gt;&lt;li data-sourcepos=&quot;82:9-82:31&quot;&gt;&lt;code&gt;Topic: user_actions&lt;/code&gt;&lt;/li&gt;&lt;li data-sourcepos=&quot;83:9-83:106&quot;&gt;&lt;code&gt;Message: { &quot;type&quot;: &quot;ArchiveEmail&quot;, &quot;emailId&quot;: &quot;...&quot;, &quot;userId&quot;: &quot;...&quot;, &quot;clientVersion&quot;: &quot;...&quot; }&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li data-sourcepos=&quot;84:5-85:0&quot;&gt;Sends an &lt;code&gt;HTTP 202 Accepted&lt;/code&gt; response back to the client immediately (indicating the request is being processed asynchronously).&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;br&gt;&lt;li data-sourcepos=&quot;86:1-98:0&quot;&gt;&lt;p data-sourcepos=&quot;86:5-86:62&quot;&gt;&lt;strong&gt;Action Processor Worker (Consumes from Message Queue):&lt;/strong&gt;&lt;/p&gt;&lt;ul data-sourcepos=&quot;87:5-98:0&quot;&gt;&lt;li data-sourcepos=&quot;87:5-87:78&quot;&gt;A worker consumes the &lt;code&gt;ArchiveEmailEvent&lt;/code&gt; from the &lt;code&gt;user_actions&lt;/code&gt; queue.&lt;/li&gt;&lt;li data-sourcepos=&quot;88:5-88:137&quot;&gt;&lt;strong&gt;Database Read:&lt;/strong&gt; Fetches the current state of the &lt;code&gt;emailId&lt;/code&gt; from the Database (e.g., conversation state, last updated timestamp).&lt;/li&gt;&lt;li data-sourcepos=&quot;89:5-92:102&quot;&gt;&lt;strong&gt;Conflict Detection:&lt;/strong&gt; Compares the &lt;code&gt;clientVersion&lt;/code&gt; from the event with the &lt;code&gt;lastUpdated&lt;/code&gt; timestamp in the database.&lt;ul data-sourcepos=&quot;90:9-92:102&quot;&gt;&lt;li data-sourcepos=&quot;90:9-91:167&quot;&gt;&lt;strong&gt;If &lt;code&gt;clientVersion&lt;/code&gt; is older than &lt;code&gt;lastUpdated&lt;/code&gt; (conflict detected):&lt;/strong&gt; This means the email state has changed &lt;em&gt;after&lt;/em&gt; the client initiated the archive but &lt;em&gt;before&lt;/em&gt; this worker processed it (e.g., a new thread arrived).&lt;ul data-sourcepos=&quot;91:13-91:167&quot;&gt;&lt;li data-sourcepos=&quot;91:13-91:167&quot;&gt;&lt;strong&gt;Conflict Resolution (Archive Wins):&lt;/strong&gt; The worker proceeds to archive the email anyway. Any new threads for this email will also be considered archived.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li data-sourcepos=&quot;92:9-92:102&quot;&gt;&lt;strong&gt;If &lt;code&gt;clientVersion&lt;/code&gt; matches or is newer (no conflict):&lt;/strong&gt; The state is as the client saw it.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li data-sourcepos=&quot;93:5-95:41&quot;&gt;&lt;strong&gt;Database Write:&lt;/strong&gt; Updates the email/conversation record in the Database:&lt;ul data-sourcepos=&quot;94:9-95:41&quot;&gt;&lt;li data-sourcepos=&quot;94:9-94:35&quot;&gt;Set &lt;code&gt;status = &#39;ARCHIVED&#39;&lt;/code&gt;&lt;/li&gt;&lt;li data-sourcepos=&quot;95:9-95:41&quot;&gt;Update &lt;code&gt;lastUpdated&lt;/code&gt; timestamp.&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li data-sourcepos=&quot;96:5-96:102&quot;&gt;&lt;strong&gt;Cache Invalidation:&lt;/strong&gt; Invalidates relevant entries in the Cache (e.g., the user&#39;s inbox view).&lt;/li&gt;&lt;li data-sourcepos=&quot;97:5-98:0&quot;&gt;&lt;strong&gt;Real-time Update (Optional/Important):&lt;/strong&gt; Publishes an &lt;code&gt;EmailArchived&lt;/code&gt; event to the Real-time Communication Service (or a separate internal queue).&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;br&gt;&lt;li data-sourcepos=&quot;99:1-103:0&quot;&gt;&lt;p data-sourcepos=&quot;99:5-99:56&quot;&gt;&lt;strong&gt;Real-time Communication Service (if applicable):&lt;/strong&gt;&lt;/p&gt;&lt;ul data-sourcepos=&quot;100:5-103:0&quot;&gt;&lt;li data-sourcepos=&quot;100:5-100:37&quot;&gt;Receives &lt;code&gt;EmailArchived&lt;/code&gt; event.&lt;/li&gt;&lt;li data-sourcepos=&quot;101:5-103:0&quot;&gt;Pushes an update to all connected clients (e.g., other devices) for that user:&lt;ul data-sourcepos=&quot;102:9-103:0&quot;&gt;&lt;li data-sourcepos=&quot;102:9-103:0&quot;&gt;&lt;code&gt;WebSocket message: { &quot;type&quot;: &quot;emailUpdated&quot;, &quot;emailId&quot;: &quot;...&quot;, &quot;newStatus&quot;: &quot;archived&quot; }&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;br&gt;&lt;li data-sourcepos=&quot;104:1-106:0&quot;&gt;&lt;p data-sourcepos=&quot;104:5-104:34&quot;&gt;&lt;strong&gt;Other Clients (Listening):&lt;/strong&gt;&lt;/p&gt;&lt;ul data-sourcepos=&quot;105:5-106:0&quot;&gt;&lt;li data-sourcepos=&quot;105:5-106:0&quot;&gt;If the user has the email open on another device, that client receives the WebSocket update and refreshes its UI to show the email as archived.&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;&lt;br&gt;&lt;/li&gt;&lt;br&gt;&lt;/ol&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="650" y="170" width="1030" height="820" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="rALfuad4Qh_uQDgmbCsA" name="Page-26">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="wOJAt_Ml2JNlColyZzUG" name="Page-27">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="TDEI9Avm7I9ems5EnI-q" name="Page-28">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="6dclENaqeXLXrmWHpFiD" name="Page-29">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
